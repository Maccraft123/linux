# SPDX-License-Identifier: GPL-2.0
%YAML 1.2
---
$id: http://devicetree.org/schemas/sound/rockchip-rk817.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Rockchip rk817 audio codec

description:
  The rk817 codec is an I2C codec integrated with every Rockchip
  rk817 PMIC MFD.

properties:
  compatible:
    enum:
      - rockchip,rk817-codec

  clocks:
    maxItems: 1

  clock-names:
    const: "mclk"

  mic-in-differential:
    description: the microphone is in differential mode.
    $ref: /schemas/types.yaml#/definitions/flag

required:
  - compatible
  - clocks
  - clock-names

additionalProperties: false

examples:
  - |
rk817: pmic@20 {
	compatible = "rockchip,rk817";
	reg = <0x20>;
	interrupt-parent = <&gpio0>;
	interrupts = <7 IRQ_TYPE_LEVEL_LOW>;
	pinctrl-names = "default";
	pinctrl-0 = <&pmic_int>;

	........

	rk817_codec: codec {
			#sound-dai-cells = <0>;
			compatible = "rockchip,rk817-codec";
			clocks = <&cru SCLK_I2S_8CH_OUT>;
			clock-names = "mclk";
			pinctrl-names = "default";
			pinctrl-0 = <&i2s_8ch_mclk>;
			mic-in-differential;
			status = "okay";
	};

	........

};
